<!DOCTYPE html>
<html lang="pt-br" data-theme="light">

<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YT Toolbox ‚Äî do Jurilson</title>

  <!-- Guard de sess√£o: redireciona para landing se n√£o autenticado -->
  <script>
    (function () {
      if (!localStorage.getItem('yt_session_v1')) {
        window.location.replace('landing.html');
      }
    })();
  </script>

</head>

<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <h1>YT Toolbox do JURILSON GAMEPLAY</h1>
        <span class="pill">Studio <b>Local</b> ‚Ä¢ Shorts + Longos</span>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button class="icon-btn" id="themeToggle" aria-label="Alternar tema" title="Tema">üåì</button>
        <button class="icon-btn" id="btnLogout" aria-label="Sair da conta" title="Sair"
          style="font-size:16px">üö™</button>
      </div>
    </div>

    <!-- Barra principal (sempre vis√≠vel) -->
    <div class="card searchbar" aria-label="Barra principal">
      <div class="field">
        <span class="hint">üîó</span>
        <input id="videoUrl" type="text" placeholder="Cole o link do v√≠deo do YouTube‚Ä¶" autocomplete="off" />
      </div>
      <button class="btn btn-primary" id="btnAnalisar"><span id="analisarIcon">‚ö°</span><span
          id="analisarText">Analisar</span></button>
      <button class="btn btn-ghost" id="btnLimpar" title="Limpar">‚úï</button>
    </div>

    <div class="stack" style="margin-top:14px">
      <div class="ia-grid">
        <a href="https://chatgpt.com/" target="_blank" rel="noreferrer">ü§ñ ChatGPT</a>
        <a href="https://gemini.google.com/" target="_blank" rel="noreferrer">‚ôä Gemini</a>
        <a href="https://claude.ai/" target="_blank" rel="noreferrer">üé≠ Claude</a>
        <a href="https://notebooklm.google.com/" target="_blank" rel="noreferrer">üìì NotebookLM</a>
      </div>

      <!-- TOP NAV -->
      <div class="topnav" role="tablist" aria-label="Navega√ß√£o principal">
        <button class="btn btn-tab" role="tab" aria-selected="true" data-top-tab="top-producao">‚öôÔ∏è PRODU√á√ÉO</button>
        <button class="btn btn-tab" role="tab" aria-selected="false" data-top-tab="top-canais">üì∫ CANAIS PARA
          KIBE</button>
      </div>

      <!-- =========================
           ABA: PRODU√á√ÉO
      ========================== -->
      <section class="card panel" id="top-producao" role="tabpanel">
        <h2>PRODU√á√ÉO</h2>

        <!-- SUBNAV inside PRODU√á√ÉO -->
        <div class="subnav" role="tablist" aria-label="Se√ß√µes de Produ√ß√£o">
          <button class="btn btn-tab" role="tab" aria-selected="true" data-sub-tab="sub-workflow">‚ö° Workflow</button>
          <button class="btn btn-tab" role="tab" aria-selected="false" data-sub-tab="sub-prompts">üß† Prompts</button>
          <button class="btn btn-tab" role="tab" aria-selected="false" data-sub-tab="sub-historico">üóÇÔ∏è
            Hist√≥rico</button>
          <button class="btn btn-tab" role="tab" aria-selected="false" data-sub-tab="sub-config">üß© Config</button>
        </div>

        <div class="hr"></div>

        <!-- SUB: Workflow -->
        <section id="sub-workflow" role="tabpanel">
          <div class="card title-box" id="titleBox" style="margin-bottom:14px">
            <span class="title" id="videoTitle">‚Äî</span>
            <div class="title-actions">
              <a class="btn" id="linkYtOriginal" target="_blank" rel="noreferrer">üåê YouTube</a>
              <button class="btn" id="btnCopiarTitulo">üìã Copiar t√≠tulo</button>
              <button class="btn" id="btnAbrirEditor">üìù Editor de Roteiro</button>
            </div>
          </div>

          <div class="card result">
            <div class="result-grid">
              <div class="stack">
                <div class="thumb">
                  <span class="badge" id="thumbBadge">THUMB</span>
                  <img id="thumbImgPreview" alt="Pr√©via da thumbnail" />
                </div>
                <a class="btn" id="btnDownloadThumb" target="_blank" rel="noreferrer">üñºÔ∏è Abrir Thumbnail</a>
              </div>

              <div class="actions">
                <a class="btn" id="linkVideo" target="_blank" rel="noreferrer">‚ñ∂Ô∏è Abrir v√≠deo</a>
                <button class="btn" id="btnCopiarLink">üîó Copiar link</button>

                <div class="row-2">
                  <a class="btn" href="https://youtubetotranscript.com/" target="_blank" rel="noreferrer">üìù
                    Transcri√ß√£o</a>
                  <a class="btn" href="https://toolkitsuite.com/youtube-tag-extractor/" target="_blank"
                    rel="noreferrer">üè∑Ô∏è Tags</a>
                </div>

                <div class="hr"></div>

                <div class="row">
                  <span class="chip">Atalho r√°pido: copie um prompt pronto abaixo</span>
                  <div class="row-3">
                    <button class="btn" data-copy-prompt="thumb">üéØ Thumb</button>
                    <button class="btn" data-copy-prompt="short">üì± Shorts</button>
                    <button class="btn" data-copy-prompt="roteiro">‚úçÔ∏è Longos</button>
                  </div>
                </div>

                <p class="help">
                  Dica no Mac: rode com Live Server (VS Code) ou <b>python3 -m http.server 5500</b> para ficar liso como
                  app.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- SUB: Prompts -->
        <section id="sub-prompts" role="tabpanel" hidden>
          <h2 style="margin-top:0">PROMPT MANAGER</h2>
          <p class="help">Edite seus prompts aqui e eles ficam salvos no seu Mac (localStorage). Export/Import na
            Config.</p>

          <div class="row-2">
            <div class="row">
              <label class="help" for="promptSelect"><b>Escolha o prompt</b></label>
              <select id="promptSelect">
                <option value="thumb">Thumbnail (CTR)</option>
                <option value="short">Shorts (gancho r√°pido)</option>
                <option value="roteiro">V√≠deo longo (roteiro)</option>
              </select>
            </div>

            <div class="row">
              <label class="help" for="statusSelect"><b>Status padr√£o ao salvar automaticamente</b></label>
              <select id="statusSelect">
                <option value="IDEIA">IDEIA</option>
                <option value="ROTEIRO">ROTEIRO</option>
                <option value="GRAVADO">GRAVADO</option>
                <option value="EDITADO">EDITADO</option>
                <option value="POSTADO">POSTADO</option>
              </select>
            </div>
          </div>

          <div class="row" style="margin-top:10px">
            <textarea id="promptEditor" placeholder="Escreva/cole seu prompt aqui‚Ä¶"></textarea>
          </div>

          <div class="row-3">
            <button class="btn btn-primary" id="btnSalvarPrompt">üíæ Salvar prompt</button>
            <button class="btn" id="btnCopiarPromptAtual">üìã Copiar prompt</button>
            <button class="btn btn-danger" id="btnResetPrompt">‚Ü©Ô∏é Restaurar padr√£o</button>
          </div>
        </section>

        <!-- SUB: Hist√≥rico -->
        <section id="sub-historico" role="tabpanel" hidden>
          <div class="history-head">
            <h3>ARQUIVO RECENTE</h3>
            <div class="history-tools">
              <input class="mini-input" id="historySearch" placeholder="Buscar por t√≠tulo‚Ä¶" />
              <select class="mini-input" id="historyFilterStatus" style="width:160px">
                <option value="">Status: todos</option>
                <option value="IDEIA">IDEIA</option>
                <option value="ROTEIRO">ROTEIRO</option>
                <option value="GRAVADO">GRAVADO</option>
                <option value="EDITADO">EDITADO</option>
                <option value="POSTADO">POSTADO</option>
              </select>
              <button class="btn btn-danger" id="btnLimparHistorico">Limpar tudo</button>
            </div>
          </div>

          <div class="grid-cards" id="historyGrid"></div>
        </section>

        <!-- SUB: Config -->
        <section id="sub-config" role="tabpanel" hidden>
          <h2 style="margin-top:0">CONFIG (BACKUP/RESTORE)</h2>
          <p class="help">Backup/restore das configura√ß√µes (prompts + hist√≥rico + roteiros + canais) em JSON.</p>

          <div class="row-2">
            <button class="btn btn-primary" id="btnExportar">‚¨áÔ∏è Exportar JSON</button>
            <label class="btn" for="importFile" style="cursor:pointer">‚¨ÜÔ∏è Importar JSON</label>
            <input id="importFile" type="file" accept="application/json" style="display:none">
          </div>

          <div class="hr"></div>

          <div class="row-2">
            <button class="btn btn-danger" id="btnResetTudo">‚ö†Ô∏è Resetar tudo</button>
            <button class="btn" id="btnAbrirPastaDica">üí° Dica: ‚ÄúApp‚Äù no Mac</button>
          </div>

          <div class="card" style="margin-top:12px; padding:14px">
            <p class="help" id="dicaTexto" style="margin:0">
              Para rodar como app local no Mac: abra no VS Code com Live Server, ou no Terminal execute:
              <b>python3 -m http.server 5500</b> na pasta do projeto e acesse <b>http://localhost:5500</b>.
            </p>
          </div>
        </section>
      </section>

      <!-- =========================
           ABA: CANAIS PARA KIBE
      ========================== -->
      <section class="card panel" id="top-canais" role="tabpanel" hidden>
        <h2>CANAIS PARA KIBE</h2>
        <p class="help">
          Aqui √© sua lista de canais para <b>refer√™ncia/inspira√ß√£o</b>: voc√™ salva link, nicho e notas.
          (Dica: use pra estudar estrutura, t√≠tulos, thumbnails e ganchos ‚Äî sem copiar conte√∫do literal.)
        </p>

        <div class="card" style="padding:14px">
          <div class="row-3">
            <input class="mini-input" id="chNome" placeholder="Nome do canal (opcional)" />
            <input class="mini-input" id="chNicho" placeholder="Nicho (ex.: INSS, finan√ßas, games‚Ä¶)" />
            <button class="btn btn-primary" id="btnAddCanal">‚ûï Adicionar</button>
          </div>
          <div class="row" style="margin-top:10px">
            <input class="mini-input" id="chUrl"
              placeholder="Cole o link do canal (YouTube) ‚Äî ex.: https://www.youtube.com/@canal" />
          </div>
          <div class="row" style="margin-top:10px">
            <textarea id="chNotas" placeholder="Notas r√°pidas (o que voc√™ quer estudar nesse canal?)"
              style="min-height:120px"></textarea>
          </div>
        </div>

        <div class="history-head" style="margin-top:14px">
          <h3>LISTA</h3>
          <div class="history-tools">
            <input class="mini-input" id="canalSearch" placeholder="Buscar canal‚Ä¶" />
            <input class="mini-input" id="canalFilterNicho" placeholder="Filtrar por nicho‚Ä¶" style="width:180px" />
            <button class="btn btn-danger" id="btnLimparCanais">Limpar canais</button>
          </div>
        </div>

        <div class="grid-cards" id="canaisGrid"></div>
      </section>

    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast">Copiado ‚úÖ</div>

  <!-- Modal: Editor de Roteiro -->
  <div class="modal" id="roteiroModal" aria-hidden="true">
    <div class="modal-backdrop" data-close="true"></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Editor de roteiro">
      <div class="modal-head">
        <div>
          <div style="font-weight:950;font-size:13px">Editor de Roteiro</div>
          <div style="font-size:11px; opacity:.7; font-weight:850" id="roteiroMeta">Roteiro global (n√£o vinculado)</div>
        </div>
        <button class="btn btn-ghost" id="btnFecharEditor">‚úï</button>
      </div>

      <textarea id="roteiroEditor" placeholder="Cole seu roteiro aqui‚Ä¶"></textarea>

      <div class="modal-actions">
        <button class="btn btn-primary" id="btnSalvarRoteiro">üíæ Salvar agora</button>
        <button class="btn" id="btnCopiarRoteiro">üìã Copiar</button>
        <button class="btn" id="btnBaixarRoteiro">‚¨áÔ∏è Baixar .txt</button>
        <button class="btn btn-danger" id="btnLimparRoteiro">Limpar</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>

  <!-- L√≥gica de logout -->
  <script>
    document.getElementById('btnLogout').addEventListener('click', function () {
      if (confirm('Deseja sair da sua conta?')) {
        localStorage.removeItem('yt_session_v1');
        window.location.replace('login.html');
      }
    });
  </script>
</body>

</html>